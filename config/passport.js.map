{"version":3,"file":"passport.js","sourceRoot":"","sources":["passport.ts"],"names":[],"mappings":"AAAA,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,EAC9B,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;AACnC,MAAM,CAAC,OAAO,GAAG;IACb,IAAI,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAClC,QAAQ,CAAC,aAAa,CAAC,UAAU,IAAI,EAAE,IAAI;QACvC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;IACxB,CAAC,CAAC,CAAC;IACH,QAAQ,CAAC,eAAe,CAAC,UAAU,EAAE,EAAE,IAAI;QACvC,IAAI,CAAC,OAAO,CAAC;YACT,GAAG,EAAE,EAAE;SACV,EAAE,iBAAiB,EAAE,UAAU,GAAG,EAAE,IAAI;YACrC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;IACH,OAAO,CAAC,uBAAuB,CAAC,EAAE,CAAC;AACvC,CAAC,CAAC","sourcesContent":["var passport = require('passport'),\r\n    mongoose = require('mongoose');\r\nmodule.exports = () => {\r\n    var User = mongoose.model('User');\r\n    passport.serializeUser(function (user, done) {\r\n        done(null, user.id);\r\n    });\r\n    passport.deserializeUser(function (id, done) {\r\n        User.findOne({\r\n            _id: id\r\n        }, '-password -salt', function (err, user) {\r\n            done(err, user);\r\n        });\r\n    });\r\n    require('./strategies/local.js')();\r\n};"]}